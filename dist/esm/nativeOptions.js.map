{"version":3,"file":"nativeOptions.js","sourceRoot":"","sources":["../../src/nativeOptions.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAQ5C;;;;GAIG;AACH,MAAM,UAAU,mBAAmB,CACjC,OAAyB;IAEzB,OAAO;QACL,qDAAqD;QACrD,gBAAgB,EAAE,OAAO,CAAC,gBAAgB;QAC1C,aAAa,EAAE,OAAO,CAAC,aAAa;QACpC,KAAK,EAAE,OAAO,CAAC,KAAK;QACpB,mDAAmD;QACnD,IAAI,EAAE,OAAO,CAAC,IAAI;QAClB,GAAG,EAAE,OAAO,CAAC,GAAG;QAChB,OAAO,EAAE,OAAO,CAAC,OAAO;QACxB,kBAAkB,EAAE,OAAO,CAAC,kBAAkB;QAC9C,iCAAiC,EAAE,OAAO,CAAC,iCAAiC;QAC5E,WAAW,EAAE,OAAO,CAAC,WAAW;QAChC,wDAAwD;QACxD,8DAA8D;QAC9D,cAAc,EAAE,OAAO,CAAC,cAAc;QACtC,0DAA0D;QAC1D,OAAO,EAAE,OAAO,CAAC,OAAO;QACxB,kEAAkE;QAClE,kEAAkE;QAClE,UAAU,EAAE,OAAO,CAAC,UAAU;QAC9B,iBAAiB,EAAE,OAAO,CAAC,iBAAiB;QAC5C,cAAc,EAAE,OAAO,CAAC,cAAc;QACtC,6BAA6B,EAAE,OAAO,CAAC,6BAA6B;QACpE,gBAAgB,EAAE,OAAO,CAAC,gBAAgB;QAC1C,gEAAgE;QAChE,2BAA2B,EAAE,OAAO,CAAC,2BAA2B;QAChE,GAAG,aAAa,CAAC,OAAO,CAAC;QACzB,GAAG,aAAa,CAAC,OAAO,CAAC;KAC1B,CAAC;AACJ,CAAC;AAED,SAAS,aAAa,CAAC,OAAyB;IAC9C,OAAO,SAAS,CAAC,WAAW,EAAE,KAAK,KAAK;QACtC,CAAC,CAAC;YACA,qBAAqB,EAAE,OAAO,CAAC,qBAAqB;YACpD,sBAAsB,EAAE,OAAO,CAAC,sBAAsB;SACvD;QACD,CAAC,CAAC,EAAE,CAAC;AACT,CAAC;AACD,0DAA0D;AAC1D,SAAS,aAAa,CAAC,OAA0C;;IAC/D,mDAAmD;IACnD,MAAM,YAAY,GAAG,MAAA,OAAO,CAAC,UAAqB,mCAAI,MAAA,OAAO,CAAC,YAAY,0CAAE,UAAU,CAAC;IACvF,iEAAiE;IACjE,IAAI,YAAY,IAAI,SAAS,CAAC,WAAW,EAAE,KAAK,SAAS,EAAE;QACzD,OAAO,EAAE,UAAU,EAAE,YAAY,EAAE,CAAC;KACrC;IACD,OAAO,SAAS,CAAC;AACnB,CAAC","sourcesContent":["import { Capacitor } from '@capacitor/core';\nimport type { BrowserOptions } from '@sentry/browser';\nimport type { CapacitorOptions } from './options';\n\ninterface CapacitorLoggerOptions {\n  enableLogs: boolean\n}\n\n/**\n * Create a new CapacitorOption without any parameter that could crash the bridge (in short, not being a string, number or boolean).\n * some of the excluded parameters are: Integrations, app, vue, beforeSend, beforeBreadcrumb, integrations, defaultIntegrations, transport, tracesSampler.\n * @param options CapacitorOptions\n */\nexport function FilterNativeOptions(\n  options: CapacitorOptions,\n): CapacitorOptions {\n  return {\n    // allowUrls: Only available on the JavaScript Layer.\n    attachStacktrace: options.attachStacktrace,\n    attachThreads: options.attachThreads,\n    debug: options.debug,\n    // denyUrls Only available on the JavaScript Layer.\n    dist: options.dist,\n    dsn: options.dsn,\n    enabled: options.enabled,\n    enableNdkScopeSync: options.enableNdkScopeSync,\n    enableWatchdogTerminationTracking: options.enableWatchdogTerminationTracking,\n    environment: options.environment,\n    // ignoreErrors: Only available on the JavaScript Layer.\n    // ignoreTransactions: Only available on the JavaScript Layer.\n    maxBreadcrumbs: options.maxBreadcrumbs,\n    // maxValueLength: Only available on the JavaScript Layer.\n    release: options.release,\n    // replaysOnErrorSampleRate: Only handled on the JavaScript Layer.\n    // replaysSessionSampleRate: Only handled on the JavaScript Layer.\n    sampleRate: options.sampleRate,\n    sendClientReports: options.sendClientReports,\n    sendDefaultPii: options.sendDefaultPii,\n    sessionTrackingIntervalMillis: options.sessionTrackingIntervalMillis,\n    tracesSampleRate: options.tracesSampleRate,\n    // tunnel: options.tunnel: Only handled on the JavaScript Layer.\n    enableCaptureFailedRequests: options.enableCaptureFailedRequests,\n    ...iOSParameters(options),\n    ...LogParameters(options)\n  };\n}\n\nfunction iOSParameters(options: CapacitorOptions): CapacitorOptions {\n  return Capacitor.getPlatform() === 'ios'\n    ? {\n      enableAppHangTracking: options.enableAppHangTracking,\n      appHangTimeoutInterval: options.appHangTimeoutInterval,\n    }\n    : {};\n}\n// Browser options added so options.enableLogs is exposed.\nfunction LogParameters(options: CapacitorOptions & BrowserOptions ): CapacitorLoggerOptions | undefined {\n  // eslint-disable-next-line deprecation/deprecation\n  const shouldEnable = options.enableLogs as boolean ?? options._experiments?.enableLogs;\n  // Only Web and Android implements log parameters initialization.\n  if (shouldEnable && Capacitor.getPlatform() === 'android') {\n    return { enableLogs: shouldEnable };\n  }\n  return undefined;\n}\n"]}